<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>js09_Array.html</title>
<script type="text/javascript">
	//배열을 선언하는 방법
	/* int [] a =new int [4];
	int [] aa={1,2,3,4,5};
	int [] aaaa;
	aaaa={1,2,3,4}(X)
	int [] aaa=new int []{1,2,3,4,5}; */
	let arrayObj = new Array("v1", "v2", "v3");//객체로 생성하는 방법
	let arrayObj2 = new Array(3);
	let arrayLit = [ "v1", "v2", "v3" ]; // 리터럴 방식

	let arrayObj3 = [ "v1", 5, true ];

	let arrayObj4 = new Array();
	let arrayObj5 = new Array(10);
	let arrayObj6 = new Array(2, 3, 4, 5, 6);
	arrayObj4[0] = "배열값";
	
	function multiArray(){
		// java: int[][] a=new int[3][3]; --> 마방진 구현 연습
		// JS: 리터럴 방식
		let arrLit=[[1,2,3,4],[5,6,7],[8,9]];
		console.log(arrLit);
		//JS: 생성자 함수 방식: new
		let arrObj=new Array(3);
		arrObj[0]=new Array(4);
		arrObj[0]=new Array(3);
		arrObj[0]=new Array(2);
		
		console.log(arrLit[0][1],arrLit[1]);
	}
	
	function joinTest(){
		var fruitArray=['apple','peach','lemon','lime'];
		console.log(fruitArray.join("-"));
		console.log(typeof fruitArray.join("-"));
	}
	function sortTest01(){
		let arrayTest=["a","b","e","d","c"];
		arrayTest.sort(); //사전식 정렬(기본)
		console.log(arrayTest.toString());//toString():문자열 반환
		arrayTest.reverse();//역순정렬
		console.log(arrayTest.toString());
	}
	function sortTest02(){
		let arrayTest=[3,6,5,10,8,4,15,11];
//		arrayTest.sort(compareNum); //크기순 정렬(함수의 기능 전달: 이름만 써줌)
//		arrayTest.sort(function(a,b){return a-b;});//익명함수로 전달
		arrayTest.sort((a,b)=>a-b);//화살표 함수
		console.log(arrayTest.toString());//toString():문자열 반환
		arrayTest.reverse();//역순정렬
		console.log(arrayTest.toString());
	}
	
	//크기로 숫자를 비교할 때 사용할 기능 구현
	//숫자 a와b를 받아서 a-b > 0, a-b < 0
	function compareNum(a,b){
//		return a-b;//오름차순
		return b-a;//내림차순
	}
	
	function pushAndShift(){
		let queue=new Array();
		queue.push("first");
		queue.push("second");
		queue.push("third");
//		console.log(queue.toString());
		let sVal=queue.shift();
		console.log(`가져온값:${sVal}, 기존배열:${queue.toString()}`);
		let pVal=queue.pop();
		console.log(`가져온값:${pVal}, 기존배열:${queue.toString()}`);
	}
	
	//문자열 -> subString() 기능 유사함
	//배열의 값이 객체가 아닐 경우에는 원본 배열이 변경되지 않는다.
	//배열의 값이 객체일 경우에는 원본 배열이 변경될 수 있다.(얕은 복사)
	function sliceTest(){
		let arrayLit=[1,2,3,4,5];//값이 객체X
		let arrayObj=new Array(4);
			arrayObj[0]=new Array(1,2);
			arrayObj[1]=new Array(3,4);
			arrayObj[2]=new Array(5,6);
			arrayObj[3]=new Array(7,8); //[[1,2],[3,4],[5,6]...]
			
		let arrayObj02=arrayObj.slice(1,3);//[[3,4],[5,6]]
		arrayObj02[0][0]=10;//복사 받은 쪽에서 값을 변경 [[10,4],[5,6]]
		console.log(`원본배열:${arrayObj},복사받은배열:${arrayObj02}`);
		
		//얕은 복사, 깊은 복사
		let aa=[[1,2,3],[4,5],[6,7]];//리터럴 방식
		//얕은 복사
		let cc=aa;
		cc[0][0]=20;
		
		//깊은 복사
		let bb=[
				[aa[0][0],aa[0][1],aa[0][2]], //[1,2,3]
			   [aa[1][0],aa[1][1]],			  //[4,5]
			   [aa[2][0],aa[2][1]]			  //[6,7]
				];
		bb[0][1]=22;
		console.log(aa);
		
		//ES6추가된 문법: spread 연산자
		//aa[0] ->[1,2,3]
		let dd=[aa[0][0],aa[0][1],aa[0][2]];
		let dd2=[[...aa[0]],[...aa[1]],[...aa[2]]];
		console.log("dd2:",dd2);
		//spread 연산자 활용
		spreadTest(1,2,3,4,5,6,10)
	}
			//func(param1, param2)
	function spreadTest(...test){ //파라미터의 개수가 정해지지 않았을 경우
		for (var i = 0; i < test.length; i++) {
			console.log(test[i]);
			
		}
	}
</script>
</head>
<body>
	<h1>배열객체</h1>
	<ol>
		<li onclick="multiArray()">다중배열</li>
		<li onclick="joinTest()">join()</li>
		<li>
			<ol>
				<li onclick="sortTest01()">sort():사전식정렬(기본)</li>
				<li onclick="sortTest02()">sort():숫자(크기순)정렬</li>
				<li>reverse():역순정렬</li>
			</ol>
		</li>
		<li onclick="pushAndShift()">배열저장/접근(push(),shift(),pop())</li>
		<li onclick="sliceTest()">slice(): 배열의 값을 부분적으로 추출해서 새로운 배열로 생성</li>
		<li>배열탐색:indexOf/lastIndexOf</li>
		<li>concat():배열과 배열을 더할 때</li>
		<li>splice():배열요소를 검색하여 삭제 또는 바꾸기</li>
	</ol>
</body>
</html>